md-autocomplete(md-selected-item='selectedItem', md-search-text-change="searchTextChange(searchText)", md-selected-item-change="getSeasons()", md-search-text='searchText', md-items='item in querySearch(searchText)', md-item-text='item.name')
	md-item-template
		img(ng-if="item.image" style="height: 40px; width: auto;" ng-src="https://image.tmdb.org/t/p/w185{{item.image}}")
		span {{item.name}}

div(ng-show="selectedItem")
	h2 {{selectedItem.name}}
	img(ng-if="selectedItem.image" style="height: 250px; width: auto;" ng-src="https://image.tmdb.org/t/p/w185{{selectedItem.image}}")
	div(layout="row")
		div(flex="20")
			md-select(ng-model="selectedSeason" ng-change="getEpisodes()" placeholder="Saison" ng-show="selectedItem")
				md-optgroup(label="Officielles")
					md-option(ng-repeat="season in seasons" ng-value="season" ng-if="season.season_number > 0") Saison {{season.season_number}} ({{season.air_date | date:'yyyy'}})
				md-optgroup(label="Autres")
					md-option(ng-repeat="season in seasons" ng-value="season" ng-if="season.season_number == 0") Saison {{season.season_number}} ({{season.air_date | date:'yyyy'}})
		div(flex="30")
			md-select(ng-model="selectedEpisode" placeholder="Episode" ng-show="selectedSeason")
				md-option(ng-repeat="episode in episodes" ng-value="episode") Episode {{episode.episode_number}} : {{episode.name}} ({{episode.air_date | date:'dd/MM/yyyy'}})
		div(flex="20") {{formattedName()}}